import React, { useState, useEffect } from 'react'
import { useLoggedUser, useOwner, useHeir, useRoute, useToastAlert } from 'app-hooks'
import { ROLES, HEIR_STATUS, HERITAGE_TYPES } from 'app-constants'
import { PageTitle } from 'app-components'
import { MediaGroup } from './components'

import './medias-management.style.scss'

const MediasManagement = () => {
  const [medias, setMedias] = useState([])

  const { loggedUser } = useLoggedUser()
  const { getHeritageMedias } = useOwner()
  const { getReceivedMedias } = useHeir()
  const { goToHome } = useRoute()
  const { showErrorToastAlert } = useToastAlert()

  const currentAccountType = loggedUser.currentAccount.type

  const getMedias = async () => {
    const isOwner = currentAccountType === ROLES.OWNER
    const accountId = loggedUser.currentAccount.id

    // const result = isOwner ? await getHeritageMedias(accountId) : await getReceivedMedias(accountId)

    const result = [
      {
        id: 1,
        type: 'IMAGE',
        file:
          'https://cdn-ofuxico.akamaized.net/img/upload/noticias/2019/04/30/faustao_reproducao_tv_globo_348281_36.jpg',
        name: 'big fausto orozco bixo muito importante',
        description: 'descrição kfkdskfdskfkfkjskdjfdfkjdsfsdfsd',
        mimeType: 'jpg',
      },

      {
        id: 2,
        type: 'IMAGE',
        file:
          'data:image/jpg;base64,iVBORw0KGgoAAAANSUhEUgAAAeAAAAEOBAMAAACjtNlUAAASoWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzcgMS4wMDAwMDAsIDAwMDAvMDAvMDAtMDA6MDA6MDAgICAgICAgICI+CiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICB4bWxuczpuczI9Imh0dHA6Ly93d3cuZGF5LmNvbS9kYW0vMS4wIgogICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgIG5zMjpQaHlzaWNhbGhlaWdodGluaW5jaGVzPSIzLjc1MDg1NDI1Mzc2ODkyMSIKICAgbnMyOlBoeXNpY2Fsd2lkdGhpbmluY2hlcz0iNi42NjgxODU3MTA5MDY5ODIiCiAgIG5zMjpGaWxlZm9ybWF0PSJQTkciCiAgIG5zMjpQcm9ncmVzc2l2ZT0ibm8iCiAgIG5zMjpleHRyYWN0ZWQ9IjIwMTctMDktMDZUMTc6MTE6MjQuMzE5KzAyOjAwIgogICBuczI6Qml0c3BlcnBpeGVsPSI0IgogICBuczI6TUlNRXR5cGU9ImltYWdlL3BuZyIKICAgbnMyOkNvbW1lbnRzPSJDcmVhdGlvbiBUaW1lOiAyNC4wNC4xMyYjeEE7U29mdHdhcmU6IEFkb2JlIEZpcmV3b3JrcyBDUzYmI3hBO1hNTDpjb20uYWRvYmUueG1wOiAmbHQ7P3hwYWNrZXQgYmVnaW49JnF1b3Q777u/JnF1b3Q7IGlkPSZxdW90O1c1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCZxdW90Oz8mZ3Q7JiN4QTsmbHQ7eDp4bXBtZXRhIHhtbG5zOng9JnF1b3Q7YWRvYmU6bnM6bWV0YS8mcXVvdDsgeDp4bXB0az0mcXVvdDtBZG9iZSBYTVAgQ29yZSA1LjUtYzAxMSA3OS4xNDk1OTgsIDIwMTIvMTAvMTAtMTI6MDk6NTYgICAgICAgICZxdW90OyZndDsmI3hBOyAmbHQ7cmRmOlJERiB4bWxuczpyZGY9JnF1b3Q7aHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyZxdW90OyZndDsmI3hBOyAgJmx0O3JkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JnF1b3Q7JnF1b3Q7JiN4QTsgICAgeG1sbnM6bnMxPSZxdW90O2h0dHA6Ly93d3cuZGF5LmNvbS9kYW0vMS4wJnF1b3Q7JiN4QTsgICAgeG1sbnM6dGlmZj0mcXVvdDtodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyZxdW90OyYjeEE7ICAgIHhtbG5zOmRjPSZxdW90O2h0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvJnF1b3Q7JiN4QTsgICBuczE6UGh5c2ljYWxoZWlnaHRpbmluY2hlcz0mcXVvdDszLjc1MDg1NDI1Mzc2ODkyMSZxdW90OyYjeEE7ICAgbnMxOlBoeXNpY2Fsd2lkdGhpbmluY2hlcz0mcXVvdDs2LjY2ODE4NTcxMDkwNjk4MiZxdW90OyYjeEE7ICAgbnMxOkZpbGVmb3JtYXQ9JnF1b3Q7UE5HJnF1b3Q7JiN4QTsgICBuczE6UHJvZ3Jlc3NpdmU9JnF1b3Q7bm8mcXVvdDsmI3hBOyAgIG5zMTpleHRyYWN0ZWQ9JnF1b3Q7MjAxNC0wNi0yNFQyMjowNzoxOC4yNDgrMDI6MDAmcXVvdDsmI3hBOyAgIG5zMTpCaXRzcGVycGl4ZWw9JnF1b3Q7NCZxdW90OyYjeEE7ICAgbnMxOk1JTUV0eXBlPSZxdW90O2ltYWdlL3BuZyZxdW90OyYjeEE7ICAgbnMxOkNvbW1lbnRzPSZxdW90O0NyZWF0aW9uIFRpbWU6IDI0LjA0LjEzJmFtcDsjeEE7U29mdHdhcmU6IEFkb2JlIEZpcmV3b3JrcyBDUzYmYW1wOyN4QTtYTUw6Y29tLmFkb2JlLnhtcDogJmFtcDtsdDs/eHBhY2tldCBiZWdpbj0mYW1wO3F1b3Q777u/JmFtcDtxdW90OyBpZD0mYW1wO3F1b3Q7VzVNME1wQ2VoaUh6cmVTek5UY3prYzlkJmFtcDtxdW90Oz8mYW1wO2d0OyZhbXA7I3hBOyZhbXA7bHQ7eDp4bXBtZXRhIHhtbG5zOng9JmFtcDtxdW90O2Fkb2JlOm5zOm1ldGEvJmFtcDtxdW90OyB4OnhtcHRrPSZhbXA7cXVvdDtBZG9iZSBYTVAgQ29yZSA1LjUtYzAxMSA3OS4xNDk1OTgsIDIwMTIvMTAvMTAtMTI6MDk6NTYgICAgICAgICZhbXA7cXVvdDsmYW1wO2d0OyZhbXA7I3hBOyAmYW1wO2x0O3JkZjpSREYgeG1sbnM6cmRmPSZhbXA7cXVvdDtodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjJmFtcDtxdW90OyZhbXA7Z3Q7JmFtcDsjeEE7ICAmYW1wO2x0O3JkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JmFtcDtxdW90OyZhbXA7cXVvdDsmYW1wOyN4QTsgICAgeG1sbnM6bnMxPSZhbXA7cXVvdDtodHRwOi8vd3d3LmRheS5jb20vZGFtLzEuMCZhbXA7cXVvdDsmYW1wOyN4QTsgICAgeG1sbnM6dGlmZj0mYW1wO3F1b3Q7aHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8mYW1wO3F1b3Q7JmFtcDsjeEE7ICAgIHhtbG5zOmRjPSZhbXA7cXVvdDtodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyZhbXA7cXVvdDsmYW1wOyN4QTsgICBuczE6UGh5c2ljYWxoZWlnaHRpbmluY2hlcz0mYW1wO3F1b3Q7My43NTA4NTQyNTM3Njg5MjEmYW1wO3F1b3Q7JmFtcDsjeEE7ICAgbnMxOlBoeXNpY2Fsd2lkdGhpbmluY2hlcz0mYW1wO3F1b3Q7Ni42NjgxODU3MTA5MDY5ODImYW1wO3F1b3Q7JmFtcDsjeEE7ICAgbnMxOkZpbGVmb3JtYXQ9JmFtcDtxdW90O1BORyZhbXA7cXVvdDsmYW1wOyN4QTsgICBuczE6UHJvZ3Jlc3NpdmU9JmFtcDtxdW90O25vJmFtcDtxdW90OyZhbXA7I3hBOyAgIG5zMTpleHRyYWN0ZWQ9JmFtcDtxdW90OzIwMTQtMDYtMjBUMDg6NTY6MzUuMjM2KzAyOjAwJmFtcDtxdW90OyZhbXA7I3hBOyAgIG5zMTpCaXRzcGVycGl4ZWw9JmFtcDtxdW90OzQmYW1wO3F1b3Q7JmFtcDsjeEE7ICAgbnMxOk1JTUV0eXBlPSZhbXA7cXVvdDtpbWFnZS9wbmcmYW1wO3F1b3Q7JmFtcDsjeEE7ICAgbnMxOkNvbW1lbnRzPSZhbXA7cXVvdDtDcmVhdGlvbiBUaW1lOiAyNC4wNC4xMyZhbXA7YW1wOyN4QTtTb2Z0d2FyZTogQWRvYmUgRmlyZXdvcmtzIENTNiZhbXA7YW1wOyN4QTsmYW1wO3F1b3Q7JmFtcDsjeEE7ICAgbnMxOlBoeXNpY2Fsd2lkdGhpbmRwaT0mYW1wO3F1b3Q7NzImYW1wO3F1b3Q7JmFtcDsjeEE7ICAgbnMxOlBoeXNpY2FsaGVpZ2h0aW5kcGk9JmFtcDtxdW90OzcyJmFtcDtxdW90OyZhbXA7I3hBOyAgIG5zMTpOdW1iZXJvZmltYWdlcz0mYW1wO3F1b3Q7MSZhbXA7cXVvdDsmYW1wOyN4QTsgICBuczE6d3JpdGViYWNrRW5hYmxlPSZhbXA7cXVvdDtGYWxzZSZhbXA7cXVvdDsmYW1wOyN4QTsgICBuczE6TnVtYmVyb2Z0ZXh0dWFsY29tbWVudHM9JmFtcDtxdW90OzImYW1wO3F1b3Q7JmFtcDsjeEE7ICAgbnMxOnNoYTE9JmFtcDtxdW90OzY3ODM3YmE2ZDM4N2UxY2M0OTA3ZDQxMjliNDg0MmM0NWNhMDAxNGEmYW1wO3F1b3Q7JmFtcDsjeEE7ICAgbnMxOnNpemU9JmFtcDtxdW90OzM3MjEmYW1wO3F1b3Q7JmFtcDsjeEE7ICAgdGlmZjpJbWFnZUxlbmd0aD0mYW1wO3F1b3Q7MjcwJmFtcDtxdW90OyZhbXA7I3hBOyAgIHRpZmY6SW1hZ2VXaWR0aD0mYW1wO3F1b3Q7NDgwJmFtcDtxdW90OyZhbXA7I3hBOyAgIGRjOmZvcm1hdD0mYW1wO3F1b3Q7aW1hZ2UvcG5nJmFtcDtxdW90OyZhbXA7I3hBOyAgIGRjOm1vZGlmaWVkPSZhbXA7cXVvdDsyMDE0LTA2LTIwVDA4OjU2OjM2LjExMCswMjowMCZhbXA7cXVvdDsvJmFtcDtndDsmYW1wOyN4QTsgJmFtcDtsdDsvcmRmOlJERiZhbXA7Z3Q7JmFtcDsjeEE7JmFtcDtsdDsveDp4bXBtZXRhJmFtcDtndDsmYW1wOyN4QTsmYW1wO2x0Oz94cGFja2V0IGVuZD0mYW1wO3F1b3Q7ciZhbXA7cXVvdDs/JmFtcDtndDsmYW1wOyN4QTsmcXVvdDsmI3hBOyAgIG5zMTpQaHlzaWNhbHdpZHRoaW5kcGk9JnF1b3Q7NzImcXVvdDsmI3hBOyAgIG5zMTpQaHlzaWNhbGhlaWdodGluZHBpPSZxdW90OzcyJnF1b3Q7JiN4QTsgICBuczE6TnVtYmVyb2ZpbWFnZXM9JnF1b3Q7MSZxdW90OyYjeEE7ICAgbnMxOndyaXRlYmFja0VuYWJsZT0mcXVvdDtGYWxzZSZxdW90OyYjeEE7ICAgbnMxOk51bWJlcm9mdGV4dHVhbGNvbW1lbnRzPSZxdW90OzMmcXVvdDsmI3hBOyAgIG5zMTpzaGExPSZxdW90OzkzYmQ0MWFkMzYwMWI5MmU4YTc2MmQ2MzczMGRkYzcyYzEwYTkxYWYmcXVvdDsmI3hBOyAgIG5zMTpzaXplPSZxdW90OzQ4ODMmcXVvdDsmI3hBOyAgIHRpZmY6SW1hZ2VMZW5ndGg9JnF1b3Q7MjcwJnF1b3Q7JiN4QTsgICB0aWZmOkltYWdlV2lkdGg9JnF1b3Q7NDgwJnF1b3Q7JiN4QTsgICBkYzpmb3JtYXQ9JnF1b3Q7aW1hZ2UvcG5nJnF1b3Q7JiN4QTsgICBkYzptb2RpZmllZD0mcXVvdDsyMDE0LTA2LTIwVDA4OjU2OjM2LjExMCswMjowMCZxdW90Oy8mZ3Q7JiN4QTsgJmx0Oy9yZGY6UkRGJmd0OyYjeEE7Jmx0Oy94OnhtcG1ldGEmZ3Q7JiN4QTsmbHQ7P3hwYWNrZXQgZW5kPSZxdW90O3ImcXVvdDs/Jmd0OyYjeEE7IgogICBuczI6UGh5c2ljYWx3aWR0aGluZHBpPSI3MiIKICAgbnMyOlBoeXNpY2FsaGVpZ2h0aW5kcGk9IjcyIgogICBuczI6TnVtYmVyb2ZpbWFnZXM9IjEiCiAgIG5zMjp3cml0ZWJhY2tFbmFibGU9IkZhbHNlIgogICBuczI6TnVtYmVyb2Z0ZXh0dWFsY29tbWVudHM9IjMiCiAgIG5zMjpzaGExPSJmZWI3YzU1YWE3MmQ3NjI1MmFlMTUzYTFhODQyNzgwZWFkOTdjYWIwIgogICBuczI6c2l6ZT0iNjQ4NyIKICAgdGlmZjpJbWFnZUxlbmd0aD0iMjcwIgogICB0aWZmOkltYWdlV2lkdGg9IjQ4MCIKICAgZGM6Zm9ybWF0PSJpbWFnZS9wbmciCiAgIGRjOm1vZGlmaWVkPSIyMDE0LTA2LTIwVDA4OjU2OjM2LjExMCswMjowMCIvPgogPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KPD94cGFja2V0IGVuZD0iciI/Pt4loxAAAAADc0JJVAgICNvhT+AAAAAwUExURf///wCf7QCf7QCf7QCf7QCf7QCf7QCf7QCf7QCf7QCf7QCf7QCf7QCf7QCf7QCf7RlVaJIAAAAQdFJOUwARIjNEVWZ3iJmqu8zd7v92lQEVAAAACXBIWXMAAAsSAAALEgHS3X78AAAAFnRFWHRDcmVhdGlvbiBUaW1lADI0LjA0LjEzbVmKMAAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAA2KSURBVHic7V1NjBxHFfb07tjrn6BE8hoErDVSQDFIEAsOxIDYAQSKE8ECQorAEruJuAQnMo7EDdglCG5gQohQhMIMKAYuxCDiRHBgJkg4nDAIITuHZARYCO+CEGBIvDs7xXbPdPerqve6u6Z75lW1+ztY456a2fem66t6f/V6164KFSpUqFChQoUKFSpUqFChwhRQu/WD9z/++Lc//babuSWZCrx7vvOSCLD9i680uKWZOLw7fysA/vFYg1uiyWL+KaFg4yFumSaJO/6p6ivE4EluqSaHu3V1fVwo6+J1Atd3R2NuySYD4v76+CO3bJPAm2h9hfgZt3TFYzeyXgF8iVu+ouGdS9RX9JvcEhaMDyXrK8RfuSUsFnvS9BXiEW4ZC0XKhA4mdYNbyALxunR9hfgDt5TFwbuYReHBR7jlLAxvyaKvEFe45SwKXi+bwqIst3gho77iL9ySFoROVoW3G9yiFoJ9WfUV4vfcshaC1ewKb3LLWgTq2fUVYo1b2gLwVhOFr3FLWwA6Jgpvux/t2W2irxDf4JY3N4xmtBD/5ZY3NzL4SRDOz+lZM33dX6cPmCr8Z26Jc+KUqcLXuSXOh1rPVGFxlFvmXDDclHy4vTEZU9h1Ei9Rag3IuPzL3DLnArELr3/u/W+/5wn8vW1umfPAQ+/j4GxgXdSO43fZ5UAPvmY9Gr59BH27zShwXuzHFAK50Xdh7/+JT97cuB3RZxNay2eQAS77D6uIPmtwADbnXY7zIIv0K/IIxPR02GHCDMu2PGQOucVNDlkLwUyG24dMgs+yCFsEEIZqUTokItJmELUYICH4tjoGSZU/xyBqMUBcB835Q3j+bw5ZC8FhTZctfdBq+rR3Bu/RdPmfPkgnMTLIESxruiBmoz7vX9EHOQLdqviJPkjfid01tXRLeU0fpCfbEKI7gpamC+Lretqg/vQlLQi6FdXUB9W0Qe7GPHSFkRisvhFXCjuDbFNai2yVSeFMi1aZFEY8Pz2/WCaF2/og3V1yV+GWpsvv9EF6ZNPdfVi3tBBHKJNL5QhWNV2Q7K9ucLursK7LoKEN0mup3c2JI7nDNXUMUqjnbv5QDwDoFcJIbbG7qQd9PdL5iSRb/sMhayHA8v9r8hCs9NTdGoC9iDZKwAqZ9aLLImwRQNPDK3DEDJYTd7esBUm1KGvwp7AR7qZa8Cqt78cDXoO973KlFlrTMrg3fLuOHuBy13egjjtsnx6+O48fWHM3SouXPPj3+Ifvu+WWN9xPlGq5a3cQRS2Byi++SFamuVzUMkappcvpYaowLQUuF6aZHgDw4fIinVBcSsNd59DH680Vdtd18DHGqtXmljkXbrgjADfcIY/sp8NDuBvuGMKYxO46wyNk6mgRA4njOgbDndjtXdiHQQcAH11ueXPD0JxucsubH0Ybk+ubkg/SJ8ZQhr4WRnO6yS1tETCY02WY0UbrtLul4RDZHYiB445DiMy2h7uF0jIydAAcos0taVHIGNly+ISWgow+Yln6hxFJUR0r3HIWh0xbcTk24SGwUgANP+WWskh00vUtSUO8ETJ0tnT3eBaGDD2IVrhlLBapy1aZliwfqctWl1vCglFLiV66H61UkdIqrlxLlo+UZcvd2iwSq0n6uly5QyEx8FGG4J2KpMBHWUIdMrDC2RHKEuqQkZBIdD5liIMMfPRLE+qQQQY+yhPqkEFuxSvckk0Kq7i+7h7MSgORV3O5mjQZRF7N6eLKZKBecdk8YQh0TpfRrAyBzukSz2h0nS6joxQDmdNuV8+mATm6tcIt02ShHSYtr9UxhGZPu15MmgbNRyynZwjcPyVcO4jfqv28MX3JJoMT3fi1UvABikn3iuvNaUs2EdQegGopsTzQyWTnp+jfq3/cOXhfE/Agg1INEJtZQZBv+2EOEQvFbPDU8G58oQX1BV1ohs0AnX/A9qGLKlWlnAs4SRqS2+0HbN/WGy3GjeiSlEfsxkOj5ftvDgepj0WEbUfXJI8ppjDYoDfeyyBqIQBPSQfZQUBiQGHY5KR/evqyFgDvQXx1AiQGFJbWssGj+tdZjxn5SR0r0RtgJ46DHaobdZ5B4nyYVfIMqG4r0UXNUb7QmL7MeXBILXEALYU70cyNdyC9xPiqU4v1kZ4qP1BuObwG4pVICcimQ8GudyLButgPvCm8FPvC6PM+tx/ikH0cnMTEj2NXUcF43G0az7M5slh7X0Clj0kcmR7xnKVqfM47YGfOfBeXHQSvRgs46OfgPUBofLkxdQUMUSfS3nAJWlbv+Q4+SWh8tTllBQyhbUfYnRoxVo7f6Qv7EP2PTlUBQ1BSyz7fyGHqyp+lfiubgwKvJQ43PC2vPaNSALX6bhgr0DH43vQ0MAT2gKwdgb+sjhvOg4Z6mVjf7X3wg94M3Afi7AU/DJJzqKE7OLTS7AL2tCixhSw6i/4b6HH/u9DfbG3Cgo8LpFOpuI75AMEyjRcrhUEhCbZWgSAUxg2HYJnu4l8y39G/xVISIxQmQpDBMk2VSM/qppqlJNbPNVBB5uCnIf3dIHQvw86Um+oB6NtRhHP4WVJv+CPUTqgK21km0JKFDLejW5Ghp/BqpdojoxfHFHZYWdqklOhshNvRN5Gxi0SN9I/CF8pibeWhF5nCUUhqtouMvYl4FNwXo3mueF02klii8G8a4eUDbWTsPvSRDzt3fi16KfvVNpIYUhiElZdXkLG7iXv2KqCYFMi3kMSAwlLOs9fEBhMFePslxcBibSGJAYV/BS7vwVsZ9PBteE52od5tM4kBhZvg8mH8ySvn8N+hLre2ADX09pE4prDk953B2beKl1jOKHGfjr0kBhS+Jl3GzyQt4b3gaj3ZS44zMNaRGFC4Cy7vI0rtDhPHSTtyhynwpAjbSExQeImo/z7wL/xrzsheo8UkJih8EXt65w72oXaHH7KWKWAtiQGFYY/3OhWe2dPGv+d2xYtatpXEgMLwli5QFf71Nfx7FpTAAEiU20VigsKr1ElZr4le9o1sKYBlLYlxCu9MdKoDOhG0mVMDWHE6wioSE7vwXuMzHHWVrJbuxCAi3QaXF42bzfq1pxJZQc3PWm4xiwNB4XPm/Sp6SlbRUhLjFJ4dQ8qOmoOxcicGFIa3xzcMu4ZfdUaZJMO0jG0kJnbhU8K8k+GS8h127sQ4hYMad9MWLP4DfKTn8VhJ4jipBPk3p65hWeDn2eSYQUxia1JMxC4c3HfTrFCwDa3AKxbuxASFW9rNyoBgWkgupYUkxik8M9ZWEhQhStaKhSTGKRzcGeOmMwE95LlrHYkJCi+pF7Khp81d60gMzF1A4fmexkaAGrmYBTmlK/AKIHG7CHlzYxGj8B2BvqShNUPuz6vB555vxFcAie04fNvSKRwVi1Lrap2IaUU/38bH4ksxia0wp734BoSMPRjV1F0ipu4eNFu6CzztcnA2+ig4H9AoVPTxoO/Co+kcgDhntp94nCMsuLzcDAfH12zYicHjK5v+/2snpVKAdVTjBXxyysWp/dEZAEBiamJME3GqPqCwVnW0hcUtF1ETTC3tEM8Mp3UnumBB1w9lF36HXgSMHYM+hW2pSN3helApYtVOLFFYLzjygVQ8txA3Cv+sf9DDKhIDCh+d1UvKhvdFO55yUXOUaw/inxXPH7WLxK1Ilq1X0x13n5Y/5Ak154SU34XYuM+mnRhQuJ/U7P8Z6VOzaoUsdRYmwOAxi0icqd+9j0tQ0jnFrVCPZqp4KX7JTWLiIdIIoAmyX3b1dhs8O4+bxK3soq43o08tSK4zWhROgZnEXrqEMeLTAIuwBpo6+0OgwaJoiMwUDhCZIH7Eujl6fdzoK7hJnNIJXUVogrRElBtDzY0k8Aa2WobSjkwQf5EKNuIadcqSBiuJjSg81Ng3QYIjAP5GTB3NSkSDUeEkCp//On79wsjfu0aaG4OvdpIU5iQxTeH+w6S1eKkRRNtfpsyN/uld3ucTFOYkcYsSat1vL0MR9Oqb/X+3sBNKIty8jvVIhRlJTFJ45LhTx6AHwT+4SmHbtHnirKngJDFB4e34/A7W7yERL0TaKKEiAD4S4xRehzGdI2YaSy4GEj0JwEfiFibOsw1pTIKTrENpwTP7BDqKjcRYM+Ft7TgasTYh0PvD1dDjtWw+MULhTSRgl+bsRnpgR/cOYR/mIrFOYZgSipEYzohAdKLBtmQuErfUW/QtYmAWCxINXwe4s6eOZYpOq02/Nug2nOk+wmaT/kMHf6yO5mk9pTQhvZQoxV3J+ia3OvROKGtXu1BFsmIRikBO5xBaGkX6sdKKfW6TNzeePDFcP/9+X+rwhEjOr9OLm2YkT4SFxJDCl7OQiuo9I85m+nufgFOEg8QxhQdPZis/w02QzG3CDv0y/lB7bLHHx2L4x/vp03kEzAQxaAQ3E6/1HCQOhX/BYHp5WhTErKV0VFvAQOIRhQdmXdxUE2SjafZXD4buxPRJPKRw37gzodRfyLx5Ze0zXCReNJ3OIe6O9R2r491wS54+iX0Kj9eUMDJBxuydHWzJUyfxTBCYHA8jE2Tshru1473pk3hvnn6EvgmSq0vnG5+auk/84R/k6YBUP5ezD6t38kr6oELx8Xwfr+fuO/uBvF9QoUKFChUqVKhQoUKFChUq3ED4P0GFuVJq/mGeAAAAAElFTkSuQmCC',
        name: 'big fausto DE NOVVO OVBDBBGFGDFGDGFDG',
        description: 'descrição kfkdskfdskfkfkjskdjfdfkjdsfsdfsd',
        mimeType: 'jpg',
      },

      {
        id: 3,
        type: 'VIDEO',
        file:
          'https://cdn-ofuxico.akamaized.net/img/upload/noticias/2019/04/30/faustao_reproducao_tv_globo_348281_36.jpg',
        name: 'video importante de eu tomando a ruim',
        description: 'descrição kfkdskfdskfkfkjskdjfdfkjdsfsdfsd',
        mimeType: 'jpg',
      },

      {
        id: 4,
        type: 'DOCUMENT',
        file:
          'https://cdn-ofuxico.akamaized.net/img/upload/noticias/2019/04/30/faustao_reproducao_tv_globo_348281_36.jpg',
        name: 'documento muito secreto ainda bem que o sistema é seguro 🤠',
        description: null,
        mimeType: 'jpg',
      },
    ]

    if (result && result.length) {
      setMedias(result)
    }
  }

  const checkHeirStatus = () => {
    const isInvalidHeirAccount =
      currentAccountType === ROLES.HEIR && loggedUser.currentAccount.status !== HEIR_STATUS.ACTIVE.key

    if (isInvalidHeirAccount) {
      showErrorToastAlert('Você não possui permissão para acessar esse recurso.')
      goToHome()
    }
  }

  useEffect(() => {
    checkHeirStatus()
    getMedias()
  }, [])

  const renderMediaGroup = mediaType => {
    const filteredMedias = medias.filter(media => media.type === mediaType)

    return <MediaGroup mediaType={mediaType} mediasList={filteredMedias} />
  }

  return (
    <div className="medias-management-container">
      <PageTitle title="Gerenciamento de Mídias" />
      <div className="medias-management-groups-container">
        {renderMediaGroup(HERITAGE_TYPES.IMAGE.key)}
        {renderMediaGroup(HERITAGE_TYPES.VIDEO.key)}
        {renderMediaGroup(HERITAGE_TYPES.DOCUMENT.key)}
      </div>
    </div>
  )
}

export { MediasManagement }
